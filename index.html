<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Un día a la vez</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Font awesome icon -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
    <link type="text/css" media="screen" rel="stylesheet" href="css/estilo.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
  </head>

<body>
    <!-- header -->
    <header>
      <nav class = "navbar">
        <div class = "container">
          <a href = "index.html" class = "navbar-brand">Trabajo Práctico Final</a>
          <div class = "navbar-nav">
            <a href = "#categorias">Listar Categorías</a>
            <a href = "#entradas">Entradas del Blog</a>
            <a href = "#sobre-mi">Sobre mí</a>
          </div>
        </div>
      </nav>
      <div class = "banner">
        <div class = "container">
          <h1 class = "banner-title">
<span>Un día</span> a la vez
          </h1>
          <p>Blog personal de experiencias y opiniones</p>
        </div>
      </div>
    </header>
    <!-- end of header -->


    <!-- design -->
        <a name="categorias"></a>
    <section class = "design" id = "design">
      <div class = "container">
        <div class = "title">
          <h2>Lista de Categorías</h2>
          <p>Filtrar entradas al blog por categoría</p>
        </div>

        <div class = "design-content">
          
          <script>
            async function apiCategoria() {
              try {
                res = await axios.get('http://localhost:4000/')
                return res.data;
              } catch(e) {
                console.log(e);
              }
            }
            const llamarFuncionCategoria = async ()=>{
              let arrayCategoria = await apiCategoria();
              //Seteo las imagenes
              let imgElement0 = document.getElementById('categoriaimg0');
              imgElement0.src = arrayCategoria[0].imagen;
              let imgElement1 = document.getElementById('categoriaimg1');
              imgElement1.src = arrayCategoria[1].imagen;
              let imgElement2 = document.getElementById('categoriaimg2');
              imgElement2.src = arrayCategoria[2].imagen;
              let imgElement3 = document.getElementById('categoriaimg3');
              imgElement3.src = arrayCategoria[3].imagen;
              //Seteo los nombres
              let nombre0 =  document.getElementById('categoriaNombre0');
              nombre0.innerText = arrayCategoria[0].nombre
              let nombre1 =  document.getElementById('categoriaNombre1');
              nombre1.innerText = arrayCategoria[1].nombre
              let nombre2 =  document.getElementById('categoriaNombre2');
              nombre2.innerText = arrayCategoria[2].nombre
              let nombre3 =  document.getElementById('categoriaNombre3');
              nombre3.innerText = arrayCategoria[3].nombre
              //Seteo las descripciones
              let descripcion0 =  document.getElementById('categoriaDescripcion0');
              descripcion0.innerText = arrayCategoria[0].descripcion
              let descripcion1 =  document.getElementById('categoriaDescripcion1');
              descripcion1.innerText = arrayCategoria[1].descripcion
              let descripcion2 =  document.getElementById('categoriaDescripcion2');
              descripcion2.innerText = arrayCategoria[2].descripcion
              let descripcion3 =  document.getElementById('categoriaDescripcion3');
              descripcion3.innerText = arrayCategoria[3].descripcion
            }
            llamarFuncionCategoria();
          </script>
          <div class = "design-item">
             <div class = "design-img">
                 <img id="categoriaimg0" alt = "">
                 <span><i class = "far fa-heart"></i></span>
                 <span id="categoriaNombre0"></span>
             </div>
             <div class = "design-title">
                 <a href = "#" id="categoriaDescripcion0"></a>
          </div>
          <!-- item -->
          <div class = "design-item">
            <div class = "design-img">
              <img id="categoriaimg1" alt = "">
              <span><i class = "far fa-heart"></i></span>
              <span id="categoriaNombre1"></span>
            </div>
            <div class = "design-title">
              <a href = "#" id="categoriaNombre1"></a>
            </div>
          </div>
          <!-- end of item -->
          <!-- item -->
          <div class = "design-item">
            <div class = "design-img">
              <img id="categoriaimg2" alt = "">
              <span><i class = "far fa-heart"></i> </span>
              <span id="categoriaNombre2"></span>
            </div>
            <div class = "design-title">
              <a href = "#" id="categoriaNombre2"></a>
            </div>
          </div>
          <!-- end of item -->
          <!-- item -->
          <div class = "design-item">
            <div class = "design-img">
              <img id="categoriaimg3" alt = "">
              <span><i class = "far fa-heart"></i></span>
              <span id="categoriaNombre3"></span>
            </div>
            <div class = "design-title">
              <a href = "#" id="categoriaDescripcion3"></a>
            </div>
          </div>
          <!-- end of item -->
        </div>
      </div>
    </section>
    <!-- end of design -->

    <!-- blog -->
<a name="entradas"></a>
    <section class = "blog" id = "blog">
      <div class = "container">
        <div class = "title">
          <h2>Archivo</h2>
          <p>Últimas entradas al blog</p>
        </div>
        <div class = "blog-content">
          <!-- item -->
          

          <script>
            async function apiEntrada() {
              try {
                res = await axios.get('http://localhost:4000/entrada')
                return res.data;
              } catch(e) {
                console.log(e);
              }
            }
            const llamarFuncionEntrada = async ()=>{
              let arrayEntrada = await apiEntrada();
              //Seteo el nombre
              let nombre0 = document.getElementById('entradaNombre0');
              nombre0.innerText = arrayEntrada[0].nombre;
              //Seteo la descripcion
              let descripcion0 =  document.getElementById('entradaDescripcion0');
              descripcion0.innerText = arrayEntrada[0].descripcion;
              //Seteo la fecha
              let fecha0 =  document.getElementById('entradaFecha0');
              fecha0.innerText = arrayEntrada[0].fecha.slice(0,10);
            }
            llamarFuncionEntrada();
          </script>

          <div class = "blog-item">
              <div class = "blog-text">
                <span id="entradaFecha0"></span>
                <h2 id="entradaNombre0"></h2>
                <p id="entradaDescripcion0"></p>
                <a href = "#">Ver informe</a>
              </div>
          </div>


          <!-- end of item -->
        </div>
      </div>
    </section>
    <!-- end of blog -->

    <!-- about -->
<a name="sobre-mi"></a>
    <section class = "about" id = "about">
      <div class = "container">
        <div class = "about-content">
          <div>
            <img src = "img/perfil.png" style="height:240px;width:240px;margin-left:350px;">
          </div>
          <div class = "about-text">
            <div class = "title">
              <h2>María Sofía Medina</h2>
              <p>23 años - Estudiante - Tucumana</p>
            </div>
              <p>      Hola! Me dicen Popi, soy estudiante de Ingeniería en Sistemas de Información en la UTN FRT, pronta a recibirme. Mis pasatiempos favoritos son los juegos de mesa y la cocina. Adoro escuchar música y me encantaría dedicarme al arte <3 </p>
              <p>      Gracias por leer mi blog! Espero que te haya gustado x</p>
          </div>
        </div>
      </div>
    </section>
    <!-- end of about -->
    <!-- footer -->
    <footer>
      <div class = "social-links">
        <a href = "https://www.facebook.com/masofiamedina"><i class = "fab fa-facebook-f"></i></a>
        <a href = "https://www.instagram.com/po.medina/"><i class = "fab fa-instagram"></i></a>
        <a href = "https://ar.pinterest.com/masofiamedina/_saved/"><i class = "fab fa-pinterest"></i></a>
      </div>
      <span>Universidad Tecnológica Nacional - Facultad Regional Tucumán - Virtualización y Consolidación de Servidores</span>
    </footer>
    <!-- end of footer -->
  </body>
</html>